# OpenSati Configuration
# https://github.com/OpenSati-com/OpenSati

# ─────────────────────────────────────────────────────────────
# Sensor Modules (Toggle individually for privacy)
# ─────────────────────────────────────────────────────────────
sensors:
  keyboard: true          # Low risk - velocity only (not keystrokes)
  mouse: true             # Low risk - movement patterns only
  screen: false           # Medium risk - enable for intent checking
  webcam: false           # High risk - enable for posture detection
  microphone: false       # High risk - enable for breath analysis

# ─────────────────────────────────────────────────────────────
# Stress Detection Thresholds
# ─────────────────────────────────────────────────────────────
detection:
  stress_threshold: 50        # Keystrokes per 10s to trigger
  velocity_multiplier: 1.3    # Trigger if typing 130% of baseline
  tab_switch_limit: 40        # Tab switches per minute = anxiety
  baseline_window: 1800       # Seconds to establish baseline (30 min)

# ─────────────────────────────────────────────────────────────
# Breathing Analysis (requires microphone)
# ─────────────────────────────────────────────────────────────
breathing:
  min_rate: 8                 # Breaths/min (below = too slow)
  max_rate: 20                # Breaths/min (above = stressed)
  analysis_window: 60         # Seconds of audio to analyze

# ─────────────────────────────────────────────────────────────
# Posture Detection (requires webcam)
# ─────────────────────────────────────────────────────────────
posture:
  neck_angle_threshold: 15    # Degrees forward = "tech neck"
  check_interval: 10          # Seconds between posture checks
  blur_intensity: 0.7         # 0-1, how much to blur on bad posture

# ─────────────────────────────────────────────────────────────
# Intent-Reality Checker (requires screen)
# ─────────────────────────────────────────────────────────────
intent:
  check_interval: 30          # Seconds between screen checks
  mismatch_threshold: 2       # Minutes off-task before intervention
  
# ─────────────────────────────────────────────────────────────
# Intervention Settings
# ─────────────────────────────────────────────────────────────
intervention:
  style: "grayscale"          # Options: grayscale, blur, notification
  fade_duration: 5            # Seconds to transition
  recovery_method: "breath"   # Options: breath, timeout, manual
  cooldown: 120               # Seconds between interventions

# ─────────────────────────────────────────────────────────────
# AI Model Configuration (Local via Ollama)
# ─────────────────────────────────────────────────────────────
ai:
  model: "llama3"             # Text analysis model
  vision_model: "llava"       # Vision-language model for screen
  timeout: 10                 # Seconds to wait for AI response

# ─────────────────────────────────────────────────────────────
# Meeting Decompression
# ─────────────────────────────────────────────────────────────
meeting:
  apps:
    - "zoom.us"
    - "Microsoft Teams"
    - "Slack"
    - "Google Meet"
    - "FaceTime"
  decompression_duration: 60  # Seconds of calm screen after meeting

# ─────────────────────────────────────────────────────────────
# Right Speech Co-Pilot (requires screen)
# ─────────────────────────────────────────────────────────────
speech:
  enabled: false              # Enable sentiment analysis
  trigger_apps:               # Only analyze in these apps
    - "Mail"
    - "Slack"
    - "Gmail"

# ─────────────────────────────────────────────────────────────
# Privacy (Read-only - these cannot be changed)
# ─────────────────────────────────────────────────────────────
privacy:
  log_content: false          # NEVER log actual screen/key content
  screenshot_retention: 0     # Seconds (0 = RAM only, never saved)
  network_requests: 0         # All AI is local
